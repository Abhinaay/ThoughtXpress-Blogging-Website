/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
import loadScript from 'load-script';
let promise;
export function getEditorNamespace(editorURL) {
    if (editorURL.length < 1) {
        throw new TypeError('CKEditor URL must be a non-empty string.');
    }
    if ('CKEDITOR' in window) {
        return Promise.resolve(CKEDITOR);
    }
    else if (!promise) {
        promise = new Promise((scriptResolve, scriptReject) => {
            loadScript(editorURL, err => {
                if (err) {
                    scriptReject(err);
                }
                else {
                    scriptResolve(CKEDITOR);
                    promise = undefined;
                }
            });
        });
    }
    return promise;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2tlZGl0b3IuaGVscGVycy5qcyIsInNvdXJjZVJvb3QiOiJuZzovL2NrZWRpdG9yNC1hbmd1bGFyLyIsInNvdXJjZXMiOlsiY2tlZGl0b3IuaGVscGVycy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0dBR0c7QUFFSCxPQUFPLFVBQVUsTUFBTSxhQUFhLENBQUM7QUFHckMsSUFBSSxPQUFPLENBQUM7QUFFWixNQUFNLFVBQVUsa0JBQWtCLENBQUUsU0FBaUI7SUFDcEQsSUFBSyxTQUFTLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRztRQUMzQixNQUFNLElBQUksU0FBUyxDQUFFLDBDQUEwQyxDQUFFLENBQUM7S0FDbEU7SUFFRCxJQUFLLFVBQVUsSUFBSSxNQUFNLEVBQUc7UUFDM0IsT0FBTyxPQUFPLENBQUMsT0FBTyxDQUFFLFFBQVEsQ0FBRSxDQUFDO0tBQ25DO1NBQU0sSUFBSyxDQUFDLE9BQU8sRUFBRztRQUN0QixPQUFPLEdBQUcsSUFBSSxPQUFPLENBQUUsQ0FBRSxhQUFhLEVBQUUsWUFBWSxFQUFHLEVBQUU7WUFDeEQsVUFBVSxDQUFFLFNBQVMsRUFBRSxHQUFHLENBQUMsRUFBRTtnQkFDNUIsSUFBSyxHQUFHLEVBQUc7b0JBQ1YsWUFBWSxDQUFFLEdBQUcsQ0FBRSxDQUFDO2lCQUNwQjtxQkFBTTtvQkFDTixhQUFhLENBQUUsUUFBUSxDQUFFLENBQUM7b0JBQzFCLE9BQU8sR0FBRyxTQUFTLENBQUM7aUJBQ3BCO1lBQ0YsQ0FBQyxDQUFFLENBQUM7UUFDTCxDQUFDLENBQUUsQ0FBQztLQUNKO0lBRUQsT0FBTyxPQUFPLENBQUM7QUFDaEIsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2UgQ29weXJpZ2h0IChjKSAyMDAzLTIwMjAsIENLU291cmNlIC0gRnJlZGVyaWNvIEtuYWJiZW4uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBGb3IgbGljZW5zaW5nLCBzZWUgTElDRU5TRS5tZC5cbiAqL1xuXG5pbXBvcnQgbG9hZFNjcmlwdCBmcm9tICdsb2FkLXNjcmlwdCc7XG5cbmRlY2xhcmUgbGV0IENLRURJVE9SOiBhbnk7XG5sZXQgcHJvbWlzZTtcblxuZXhwb3J0IGZ1bmN0aW9uIGdldEVkaXRvck5hbWVzcGFjZSggZWRpdG9yVVJMOiBzdHJpbmcgKTogUHJvbWlzZTx7IFsga2V5OiBzdHJpbmcgXTogYW55OyB9PiB7XG5cdGlmICggZWRpdG9yVVJMLmxlbmd0aCA8IDEgKSB7XG5cdFx0dGhyb3cgbmV3IFR5cGVFcnJvciggJ0NLRWRpdG9yIFVSTCBtdXN0IGJlIGEgbm9uLWVtcHR5IHN0cmluZy4nICk7XG5cdH1cblxuXHRpZiAoICdDS0VESVRPUicgaW4gd2luZG93ICkge1xuXHRcdHJldHVybiBQcm9taXNlLnJlc29sdmUoIENLRURJVE9SICk7XG5cdH0gZWxzZSBpZiAoICFwcm9taXNlICkge1xuXHRcdHByb21pc2UgPSBuZXcgUHJvbWlzZSggKCBzY3JpcHRSZXNvbHZlLCBzY3JpcHRSZWplY3QgKSA9PiB7XG5cdFx0XHRsb2FkU2NyaXB0KCBlZGl0b3JVUkwsIGVyciA9PiB7XG5cdFx0XHRcdGlmICggZXJyICkge1xuXHRcdFx0XHRcdHNjcmlwdFJlamVjdCggZXJyICk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0c2NyaXB0UmVzb2x2ZSggQ0tFRElUT1IgKTtcblx0XHRcdFx0XHRwcm9taXNlID0gdW5kZWZpbmVkO1xuXHRcdFx0XHR9XG5cdFx0XHR9ICk7XG5cdFx0fSApO1xuXHR9XG5cblx0cmV0dXJuIHByb21pc2U7XG59XG4iXX0=